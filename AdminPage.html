<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Page</title>
  <link rel="stylesheet" href="CSS/AdminPage.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="CSS/loader.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <link rel="stylesheet" href="CSS/nav.css" />
</head>

<body>
  <div class="navbar">
    <div class="navbar-left">
      <a href="../ITWorx/index.html">
        <img src="../ITWorx/PIC/ITWorx_logo.png" alt="Logo" width="100" height="25" />
      </a>
      <div class="sidebar-toggle" id="sidebar-toggle">
        <i class="fas fa-chevron-left"></i>
      </div>
    </div>

    <div class="burger" id="burger-icon">
      <i class="fas fa-bars"></i>
    </div>

    <ul id="nav-links" class="nav-links">
      <li><a href="#">Time Off</a></li>
      <li><a href="#">Benefits</a></li>
      <li><a href="#">Compensation</a></li>
      <li><a href="#">Learning</a></li>
      <li><a href="#">Feedback</a></li>
    </ul>

    <div class="actions">
      <button>
        <i class="fas fa-search"></i>
      </button>
      <button>
        <i class="fa-solid fa-question"></i>
      </button>
      <button id="auth-button" class="btn">
        <i class="fas fa-user"></i>
      </button>
    </div>
  </div>

  <div class="side-bar" id="sidebar">
    <ul>
      <li class="side-link"><a href="#">Voting</a></li>
      <li class="side-link"><a href="#">Nominees</a></li>
      <li class="side-link"><a href="#">Winner</a></li>
      <li class="side-link"><a href="#">Settings</a></li>
    </ul>
    <div class="dates">
      <div class="date">
        <p class="subtitle">Vote Started on</p>
        <p class="pdate">August 1, 2024</p>
      </div>
      <div class="date">
        <p class="subtitle">Vote ends on</p>
        <p class="pdate">August 30, 2024</p>
      </div>
    </div>
  </div>

  <main>
    <div class="loader loader--active">
      <div class="loader__icon"></div>
      <div class="loader__tiles">
        <div class="loader__tile"></div>
        <div class="loader__tile"></div>
        <div class="loader__tile"></div>
        <div class="loader__tile"></div>
        <div class="loader__tile"></div>
      </div>
    </div>

    <div class="employee-votes">
      <h2>Employee of the Month</h2>
      <h4>Current Voting</h4>
      <div class="progress" style="width: 75%">
        <div class="progress-bar" role="progressbar" style="width: 15%" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100"></div>
        <div class="progress-bar bg-success" role="progressbar" style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
        <div class="progress-bar bg-info" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
      <a href="./NomineeProfile.html">
        <div class="nominee">
          <img src="./PIC/profilePic.jpg" alt="Profile Picture" />
          <div class="text">
            <p class="name">John</p>
            <p class="votes">Votes: 15 <span class="percent">70%</span></p>
          </div>
        </div>
      </a>
      <a href="./NomineeProfile.html">
        <div class="nominee">
          <img src="./PIC/profilePic.jpg" alt="Profile Picture" />
          <div class="text">
            <p class="name">John</p>
            <p class="votes">Votes: 15 <span class="percent">70%</span></p>
          </div>
        </div>
      </a>
      <a href="./NomineeProfile.html">
        <div class="nominee">
          <img src="./PIC/profilePic.jpg" alt="Profile Picture" />
          <div class="text">
            <p class="name">John</p>
            <p class="votes">Votes: 15 <span class="percent">70%</span></p>
          </div>
        </div>
      </a>
    </div>
  </main>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Sidebar Toggle
      document.getElementById("sidebar-toggle").addEventListener("click", function () {
        var sidebar = document.getElementById("sidebar");
        sidebar.classList.toggle("active");

        // Change icon direction
        var icon = this.querySelector("i");
        if (sidebar.classList.contains("active")) {
          icon.classList.remove("fa-chevron-left");
          icon.classList.add("fa-chevron-right");
        } else {
          icon.classList.remove("fa-chevron-right");
          icon.classList.add("fa-chevron-left");
        }
      });

      // Burger icon to toggle navigation links on smaller screens
      document.getElementById("burger-icon").addEventListener("click", function () {
        var navLinks = document.getElementById("nav-links");
        navLinks.classList.toggle("show");
      });

      // Function to update the auth button based on login status
      function updateAuthButton() {
        var loggedIn = localStorage.getItem("loggedIn");
        var authButton = document.getElementById("auth-button");

        if (loggedIn === "true") {
          authButton.innerHTML = '<i class="fas fa-sign-out-alt"></i>';
          authButton.addEventListener("click", function () {
            localStorage.removeItem("loggedIn");
            window.location.reload(); // Reload the page to update the navbar
          });

          // Show the Dashboard link
          var navLinks = document.getElementById("nav-links");
          var dashboardLink = document.createElement("li");
          dashboardLink.innerHTML = '<a href="AdminPage.html">Dashboard</a>';
          navLinks.prepend(dashboardLink);
        } else {
          authButton.innerHTML = '<i class="fas fa-sign-in-alt"></i>';
          authButton.addEventListener("click", function () {
            window.location.href = "login.html";
          });
        }
      }

      // Run the function when the page loads
      updateAuthButton();

      // Loader
      var $loader = document.querySelector(".loader");
      window.onload = function () {
        $loader.classList.remove("loader--active");
      };
    });
  </script>
</body>
</html>
